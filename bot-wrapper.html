<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Bot</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #f5f5f5;
        }
        /* Override widget styles to make it full screen */
        #gptbase-bubble-window {
            position: fixed !important;
            bottom: 0 !important;
            right: 0 !important;
            left: 0 !important;
            top: 0 !important;
            width: 100% !important;
            height: 100% !important;
            max-width: none !important;
            max-height: none !important;
            border-radius: 0 !important;
            display: block !important;
        }
        #gptbase-bubble-button {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- GBase Widget Embed Script (same as HIS Mobile) -->
    <script>
        window.gptbaseConfig = {
            chatbotId: 'a182ac3e-0552-4fc0-aced-cd995e5f91c2'
        };
    </script>
    <script src="https://gptbase.ai/plugin/plugin.js" id="a182ac3e-0552-4fc0-aced-cd995e5f91c2" defer></script>

    <script>
        // Auto-open the chat widget when ready
        function waitForWidget() {
            var widgetWindow = document.getElementById('gptbase-bubble-window');
            if (widgetWindow) {
                // Widget is ready, send openChat message
                widgetWindow.contentWindow.postMessage({ openChat: true }, '*');
            } else {
                // Wait and try again
                setTimeout(waitForWidget, 100);
            }
        }

        // Listen for messages from parent (kiosk page)
        window.addEventListener('message', function(event) {
            var widgetWindow = document.getElementById('gptbase-bubble-window');
            if (widgetWindow && event.data && event.data.type === 'send') {
                // Forward the message to the widget
                widgetWindow.contentWindow.postMessage(event.data, '*');
            }
        });

        // Start waiting for widget
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(waitForWidget, 500);
        });
    </script>
</body>
</html>
